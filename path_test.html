<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãƒ‘ã‚¹ç¢ºèªãƒ†ã‚¹ãƒˆ</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      padding: 20px; 
      background: #f5f5f5;
    }
    .test-item { 
      margin: 20px 0; 
      padding: 15px; 
      background: white; 
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .success { border-left: 4px solid #4CAF50; }
    .error { border-left: 4px solid #f44336; }
    img, video { 
      max-width: 300px; 
      height: auto; 
      border: 2px solid #ddd;
      border-radius: 4px;
    }
    .path-info {
      background: #e3f2fd;
      padding: 10px;
      border-radius: 4px;
      margin: 10px 0;
      font-family: monospace;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <h1>ğŸ” ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ç¢ºèªãƒ†ã‚¹ãƒˆ</h1>
  
  <div class="test-item">
    <h3>ğŸ“ ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã®å ´æ‰€</h3>
    <div class="path-info" id="currentPath"></div>
  </div>

  <div class="test-item">
    <h3>ğŸ¬ å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ãƒ†ã‚¹ãƒˆ</h3>
    <div class="path-info">ãƒ†ã‚¹ãƒˆå¯¾è±¡: images/research/marmoset_movie.mp4</div>
    
    <video controls width="300" style="display: block; margin: 10px 0;">
      <source src="images/research/marmoset_movie.mp4" type="video/mp4">
      å‹•ç”»ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“
    </video>
    
    <div id="videoStatus">èª­ã¿è¾¼ã¿ä¸­...</div>
  </div>

  <div class="test-item">
    <h3>ğŸ–¼ï¸ ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãƒ†ã‚¹ãƒˆï¼ˆå‚è€ƒï¼‰</h3>
    <div class="path-info">ãƒ†ã‚¹ãƒˆå¯¾è±¡: images/research/marmoset.jpg</div>
    
    <img src="images/research/marmoset.jpg" alt="ãƒãƒ¼ãƒ¢ã‚»ãƒƒãƒˆç”»åƒ" style="display: block; margin: 10px 0;">
    <div id="imageStatus">èª­ã¿è¾¼ã¿ä¸­...</div>
  </div>

  <div class="test-item">
    <h3>ğŸ”— ä»£æ›¿ãƒ‘ã‚¹ãƒ†ã‚¹ãƒˆ</h3>
    <div class="path-info">ãƒ†ã‚¹ãƒˆå¯¾è±¡: ./images/research/marmoset_movie.mp4</div>
    
    <video controls width="300" style="display: block; margin: 10px 0;">
      <source src="./images/research/marmoset_movie.mp4" type="video/mp4">
      å‹•ç”»ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“
    </video>
    
    <div id="altVideoStatus">èª­ã¿è¾¼ã¿ä¸­...</div>
  </div>

  <div class="test-item">
    <h3>ğŸ“Š ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª</h3>
    <div id="fileChecks"></div>
  </div>

  <script>
    // ç¾åœ¨ã®ãƒšãƒ¼ã‚¸æƒ…å ±ã‚’è¡¨ç¤º
    document.getElementById('currentPath').innerHTML = `
      URL: ${window.location.href}<br>
      Protocol: ${window.location.protocol}<br>
      Host: ${window.location.host}<br>
      Pathname: ${window.location.pathname}
    `;

    // å‹•ç”»èª­ã¿è¾¼ã¿çŠ¶æ³ã‚’ãƒã‚§ãƒƒã‚¯
    const video1 = document.querySelector('video');
    const video2 = document.querySelectorAll('video')[1];
    const image = document.querySelector('img');

    // æœ€åˆã®å‹•ç”»
    video1.addEventListener('loadeddata', () => {
      document.getElementById('videoStatus').innerHTML = 'âœ… å‹•ç”»èª­ã¿è¾¼ã¿æˆåŠŸï¼';
      document.querySelector('.test-item:nth-child(2)').classList.add('success');
    });

    video1.addEventListener('error', (e) => {
      document.getElementById('videoStatus').innerHTML = 'âŒ å‹•ç”»èª­ã¿è¾¼ã¿å¤±æ•—: ' + e.message;
      document.querySelector('.test-item:nth-child(2)').classList.add('error');
    });

    // 2ç•ªç›®ã®å‹•ç”»ï¼ˆä»£æ›¿ãƒ‘ã‚¹ï¼‰
    video2.addEventListener('loadeddata', () => {
      document.getElementById('altVideoStatus').innerHTML = 'âœ… ä»£æ›¿ãƒ‘ã‚¹å‹•ç”»èª­ã¿è¾¼ã¿æˆåŠŸï¼';
      document.querySelector('.test-item:nth-child(4)').classList.add('success');
    });

    video2.addEventListener('error', (e) => {
      document.getElementById('altVideoStatus').innerHTML = 'âŒ ä»£æ›¿ãƒ‘ã‚¹å‹•ç”»èª­ã¿è¾¼ã¿å¤±æ•—: ' + e.message;
      document.querySelector('.test-item:nth-child(4)').classList.add('error');
    });

    // ç”»åƒ
    image.addEventListener('load', () => {
      document.getElementById('imageStatus').innerHTML = 'âœ… ç”»åƒèª­ã¿è¾¼ã¿æˆåŠŸï¼';
      document.querySelector('.test-item:nth-child(3)').classList.add('success');
    });

    image.addEventListener('error', (e) => {
      document.getElementById('imageStatus').innerHTML = 'âŒ ç”»åƒèª­ã¿è¾¼ã¿å¤±æ•—';
      document.querySelector('.test-item:nth-child(3)').classList.add('error');
    });

    // ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª
    async function checkFiles() {
      const paths = [
        'images/research/marmoset_movie.mp4',
        './images/research/marmoset_movie.mp4',
        'images/research/marmoset.jpg',
        'images/research/'
      ];

      const results = [];
      
      for (const path of paths) {
        try {
          const response = await fetch(path, { method: 'HEAD' });
          const size = response.headers.get('content-length');
          const sizeText = size ? ` (${(size/1024/1024).toFixed(2)}MB)` : '';
          
          if (response.ok) {
            results.push(`âœ… ${path}${sizeText}`);
          } else {
            results.push(`âŒ ${path} - Status: ${response.status}`);
          }
        } catch (error) {
          results.push(`âŒ ${path} - Error: ${error.message}`);
        }
      }

      document.getElementById('fileChecks').innerHTML = results.map(r => 
        `<div class="path-info">${r}</div>`
      ).join('');
    }

    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†å¾Œã«ãƒ•ã‚¡ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
    setTimeout(checkFiles, 1000);
  </script>
</body>
</html>
